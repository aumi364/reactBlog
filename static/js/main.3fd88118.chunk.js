(this.webpackJsonpblog=this.webpackJsonpblog||[]).push([[0],{11:function(e,t,r){e.exports={PostForm:"CreateForm_PostForm__21gRD",Input:"CreateForm_Input__4Lc9_",Errors:"CreateForm_Errors__2GJR0",Button:"CreateForm_Button__2qXUt",Submitted:"CreateForm_Submitted__1t6Pb"}},12:function(e,t,r){e.exports={ShowPost:"ShowPost_ShowPost__1xcgT",ShowImg:"ShowPost_ShowImg__2OpdM",Title:"ShowPost_Title__jR98U",Button:"ShowPost_Button__2JAHi",Body:"ShowPost_Body__1BvPn",Deleted:"ShowPost_Deleted__1KVTi",TextDeleted:"ShowPost_TextDeleted__2uK2H"}},15:function(e,t,r){e.exports={Card:"Card_Card__jzLhI",Title:"Card_Title__1BC0Z",Image:"Card_Image__2BIi3",ShowLink:"Card_ShowLink__29k_T",CreateLink:"Card_CreateLink__3Rc5P"}},21:function(e,t,r){e.exports={LargeContainer:"GlobalStyle_LargeContainer__WV8dx",NavLink:"GlobalStyle_NavLink__1Kclv"}},37:function(e,t,r){e.exports={Cards:"ViewPost_Cards__3I3qJ"}},39:function(e,t,r){e.exports={FormContainer:"CreatePost_FormContainer__1lyx0"}},40:function(e,t,r){e.exports={Post:"Post_Post__2D-2S"}},46:function(e,t,r){},72:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),s=r(36),c=r.n(s),o=(r(46),r(2)),i=r.n(o),l=r(3),u=r(6),j=r(18),d=r(4),b=r(37),p=r.n(b),h=r(21),x=r.n(h),O=function(e){for(var t=e.split(" "),r=0;r<t.length;r++)t[r]=t[r].charAt(0).toUpperCase()+t[r].substring(1);return t.join(" ")},m=r(15),f=r.n(m),v=r(1),_=function(e){var t=e.imageUrl,r=e.title,a=e.body,n=e.showId,s=e.create,c=Object(d.h)().url;return Object(v.jsxs)("div",{className:f.a.Card,children:[t&&Object(v.jsx)("div",{className:f.a.Image,children:Object(v.jsx)("img",{src:t,alt:"5 Terre"})}),r&&Object(v.jsx)("div",{className:f.a.Title,children:Object(v.jsx)("p",{children:O(r)})}),a&&Object(v.jsx)("div",{className:f.a.Body,children:Object(v.jsx)("p",{children:"".concat(a.substr(0,80),"...")})}),n&&Object(v.jsx)("div",{className:f.a.ShowLink,children:Object(v.jsx)(j.b,{className:x.a.NavLink,to:"".concat(c,"/").concat(n),children:"See More"})}),s&&Object(v.jsx)("div",{className:f.a.CreateLink,children:Object(v.jsx)(j.b,{className:x.a.NavLink,to:"".concat(c,"/create"),children:"Create a new post"})})]})},g=r.p+"static/media/view.2de77d7e.jpg",S=r.p+"static/media/create.77f0595e.svg",w=n.a.createContext(null),N=function(){return Object(v.jsx)("div",{children:"error"})},C=function(){var e=Object(a.useContext)(w),t=e.posts,r=e.error,n=t?t.map((function(e,t){return Object(v.jsx)(_,{imageUrl:g,title:e.title,body:e.body,showId:e.id},t)})):[];return Object(v.jsx)(v.Fragment,{children:r?Object(v.jsx)(N,{}):Object(v.jsx)("div",{className:x.a.LargeContaienr,children:Object(v.jsxs)("div",{className:p.a.Cards,children:[Object(v.jsx)(_,{imageUrl:S,create:!0}),n]})})})},y=r(22),I=r.n(y),P="https://jsonplaceholder.typicode.com/posts",k=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("fetching"),e.next=4,I.a.get(P);case 4:return t=e.sent,e.abrupt("return",t);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(l.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.a.get("".concat(P,"/").concat(t));case 3:return r=e.sent,e.abrupt("return",r);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(l.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.a.delete("".concat(P,"/").concat(t));case 3:return r=e.sent,e.abrupt("return",r);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(l.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.a.post(P,t,{headers:{"Content-type":"application/json"}});case 3:return r=e.sent,e.abrupt("return",r);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),F=r(12),E=r.n(F),q=function(){var e=Object(d.g)().postId,t=Object(a.useState)(),r=Object(u.a)(t,2),n=r[0],s=r[1],c=Object(a.useState)(),o=Object(u.a)(c,2),j=o[0],b=o[1],p=Object(a.useState)(!1),h=Object(u.a)(p,2),x=h[0],m=h[1];Object(a.useEffect)((function(){T&&Object(l.a)(i.a.mark((function t(){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T(e);case 2:200===(r=t.sent).status?b(r.data):s(r.status);case 4:case"end":return t.stop()}}),t)})))()}),[]);var f;return Object(v.jsxs)(v.Fragment,{children:[!n&&!x&&j&&Object(v.jsxs)("div",{className:E.a.PostContainer,children:[Object(v.jsxs)("div",{className:E.a.ShowPost,children:[Object(v.jsx)("div",{className:E.a.ShowImg,children:Object(v.jsx)("img",{src:g,alt:""})}),Object(v.jsxs)("div",{className:E.a.Wrapper,children:[Object(v.jsx)("div",{className:E.a.Title,children:O(j.title)}),Object(v.jsx)("div",{className:E.a.Body,children:j.body})]})]}),Object(v.jsx)("div",{children:Object(v.jsx)("button",{className:E.a.Button,onClick:(f=j.id,Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B(f);case 2:m(!0);case 3:case"end":return e.stop()}}),e)})))),children:"X Delete Post!"})})]}),n&&Object(v.jsx)(N,{}),!n&&x&&Object(v.jsx)("div",{className:E.a.Deleted,children:Object(v.jsx)("p",{className:E.a.TextDeleted,children:"The post has been deleted."})})]})},D=r(16),J=r(41),U=r(11),R=r.n(U),G=function(){var e=Object(a.useContext)(w).toggler,t=e.toggle,r=e.setToggle,n=Object(a.useState)(!1),s=Object(u.a)(n,2),c=s[0],o=s[1],j=Object(J.a)(),d=j.register,b=j.handleSubmit,p=j.formState.errors,h=function(){var e=Object(l.a)(i.a.mark((function e(a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(a);case 2:r(!t),o(!0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsxs)(v.Fragment,{children:[!c&&Object(v.jsxs)("form",{className:R.a.PostForm,onSubmit:b(h),children:[Object(v.jsx)("label",{children:"Name"}),Object(v.jsx)("input",Object(D.a)({className:R.a.Input,type:"text",id:"name",placeholder:"Name"},d("name",{required:!0}))),p.name&&Object(v.jsx)("p",{className:R.a.Errors,children:"Name is required."}),Object(v.jsx)("label",{children:"Title"}),Object(v.jsx)("input",Object(D.a)({className:R.a.Input,type:"text",id:"title",placeholder:"Title"},d("title",{required:!0}))),p.name&&Object(v.jsx)("p",{className:R.a.Errors,children:"Title is required."}),Object(v.jsx)("label",{children:"Body"}),Object(v.jsx)("textarea",Object(D.a)(Object(D.a)({className:R.a.Input,type:"text",id:"body"},d("body",{required:!0})),{},{placeholder:"Body"})),p.name&&Object(v.jsx)("p",{className:R.a.Errors,children:"Body is required."}),Object(v.jsx)("label",{children:"UserId"}),Object(v.jsx)("input",Object(D.a)(Object(D.a)({className:R.a.Input,type:"text",id:"useId"},d("useId",{required:!0})),{},{placeholder:"userId"})),p.name&&Object(v.jsx)("p",{className:R.a.Errors,children:"User Id is required."}),Object(v.jsx)("button",{className:R.a.Button,children:"Submit"})]}),c&&Object(v.jsx)("div",{className:R.a.Submitted,children:Object(v.jsx)("p",{children:"The post has been Submitted."})})]})},K=r(39),M=r.n(K),V=function(){return Object(v.jsx)("div",{className:M.a.FormContainer,children:Object(v.jsx)(G,{})})},A=function(){return Object(v.jsx)(j.a,{children:Object(v.jsxs)(d.d,{children:[Object(v.jsx)(d.b,{exact:!0,path:"/",children:Object(v.jsx)(d.a,{to:"/posts"})}),Object(v.jsx)(d.b,{exact:!0,path:"/posts",children:Object(v.jsx)(C,{})}),Object(v.jsx)(d.b,{exact:!0,path:"/posts/create",children:Object(v.jsx)(V,{})}),Object(v.jsx)(d.b,{path:"/posts/:postId",children:Object(v.jsx)(q,{})})]})})},H=r(40),W=r.n(H),X=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),r=t[0],n=t[1],s=Object(a.useState)(!1),c=Object(u.a)(s,2),o=c[0],j=c[1],d=Object(a.useState)(),b=Object(u.a)(d,2),p=b[0],h=b[1];return Object(a.useEffect)((function(){var e=localStorage.getItem("toggler");if(e)if(e!==o.toString())Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:200===(t=e.sent).status?(localStorage.setItem("payload",JSON.stringify(t.data)),localStorage.setItem("toggler",o),n(t.data)):h(t.status);case 4:case"end":return e.stop()}}),e)})))();else{var t=JSON.parse(localStorage.getItem("payload"));n(t)}else localStorage.setItem("toggler",o),Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:200===(t=e.sent).status?(localStorage.setItem("payload",JSON.stringify(t.data)),n(t.data)):h(t.status);case 4:case"end":return e.stop()}}),e)})))()}),[o]),Object(v.jsx)(w.Provider,{value:{toggler:{toggle:o,setToggle:j},viewError:{error:p,setError:h},posts:r,error:p},children:Object(v.jsx)("div",{className:W.a.Post,children:Object(v.jsx)(A,{})})})};c.a.render(Object(v.jsx)(n.a.StrictMode,{children:Object(v.jsx)(X,{})}),document.getElementById("root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.3fd88118.chunk.js.map